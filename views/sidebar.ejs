<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campus Store - Product Detail</title>
    <link rel="stylesheet" href="./styles/main.css">

</head>
<body>
    <!-- Header and Navigation -->
     
    <header>
        <!-- Navigation (same as other pages) -->
        <nav>
            <div class="logo">
                <a href="/"><img src="images/logo.svg" alt="CampusShop Logo"></a>
            </div>
            <div class="nav-links">
                <a href="/">Home</a>
                <a id="shop-btn">Categories</a>
                <a href="/signin">Sign in</a>
            </div>
            <div class="nav-actions">
                <a href="/cart" class="cart-icon"><img src="images/cart.svg" alt="Cart"></a>
                <a href="/account" class="account-icon"><img src="images/account.svg" alt="Account"></a>
            </div>
    
        </nav>
        <div class="search-container">
            <form id="opensearch-form">
				<input type="text" id="search-box" name="query" placeholder="Search for products..." class="search-input">
				<button type="submit" class="search-button">
					<img src="images/search.svg" alt="Search" class="search-icon">
				</button>
			</form>
        </div>
		<script>
			document.getElementById("opensearch-form").addEventListener("submit", async function(e) {
				e.preventDefault();
				const query = document.getElementById("search-box").value;

				const res = await fetch('/search', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json'
					},
					body: JSON.stringify({ query })
				});

				const html = await res.text();
				document.open();
				document.write(html);
				document.close();
			});
		</script>

		<!--
		<script>
			document.querySelector('#search-box').addEventListener('keypress', function(event) {
				if (event.key === 'Enter') {
					return;
				}
			});
		</script>
		-->
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/search.css">
    </header>
    
    <!-- Categories sidebar and content container -->
    <div class="main-container">
        <!-- Categories Sidebar -->
        <div id="categories-sidebar" class="sidebar">
            <ul class="category-menu">
                <li class="category-item">
                    <a href="textbooks.html" class="category-link">Textbooks</a>
                    <i class="icon-right-arrow"></i>
                </li>
                <li class="category-item">
                    <a href="clothing.html" class="category-link">Clothing & Accessories</a>
                    <i class="icon-right-arrow"></i>
                </li>
                <li class="category-item">
                    <a href="gifts.html" class="category-link">Gifts & Collectibles</a>
                    <i class="icon-right-arrow"></i>
                </li>
                <li class="category-item">
                    <a href="specialty.html" class="category-link">Specialty Shops</a>
                    <i class="icon-right-arrow"></i>
                </li>
                <li class="category-item">
                    <a href="electronics.html" class="category-link">Electronics</a>
                    <i class="icon-right-arrow"></i>
                </li>
                <li class="category-item">
                    <a href="school-supplies.html" class="category-link">School Supplies</a>
                    <i class="icon-right-arrow"></i>
                </li>
                <li class="category-item">
                    <a href="alumni.html" class="category-link">Alumni</a>
                    <i class="icon-right-arrow"></i>
                </li>
                <li class="category-item">
                    <a href="graduation.html" class="category-link">Graduation</a>
                    <i class="icon-right-arrow"></i>
                </li>
                <li class="category-item">
                    <a href="dorm.html" class="category-link">Dorm & Home</a>
                    <i class="icon-right-arrow"></i>
                </li>
                <li class="category-item">
                    <a href="health.html" class="category-link">Health, Wellness & Beauty</a>
                    <i class="icon-right-arrow"></i>
                </li>
                <li class="category-item">
                    <a href="books.html" class="category-link">Books, Music & Games</a>
                    <i class="icon-right-arrow"></i>
                </li>
                <li class="category-item">
                    <a href="gift-cards.html" class="category-link">Gift Cards</a>
                </li>
                <li class="category-item">
                    <a href="sale.html" class="category-link">Sale & Clearance</a>
                    <i class="icon-right-arrow"></i>
                </li>
            </ul>
        </div>
        
        <!-- Category Subcategories Panel -->
        <div id="subcategories-panel" class="subcategories-panel">
            <!-- This will be dynamically populated based on category selection -->
            <div class="subcategory-list">
                <a href="tailgate.html">Tailgate & Spirit</a>
                <a href="drinkware.html">Drinkware</a>
                <a href="auto.html">Auto Accessories</a>
                <a href="blankets.html">Blankets</a>
                <a href="school-acc.html">School Accessories</a>
                <a href="office.html">Office & Travel</a>
                <a href="pet.html">Pet Supplies</a>
                <a href="plush.html">Plush</a>
                <a href="ornaments.html">Ornaments & Holiday</a>
                <a href="golf.html">Golf</a>
                <a href="home-decor.html">Home DÃ©cor</a>
                <a href="sale.html">Sale & Clearance</a>
            </div>
            
         
        
       
        </div>
    </div>
    
    
    <script>
        // Image gallery functionality
        const images = [
            'images/nintendo-dsi-blue-main.jpg',
            'images/nintendo-dsi-blue-2.jpg',
            'images/nintendo-dsi-blue-3.jpg',
            'images/nintendo-dsi-blue-4.jpg',
            'images/nintendo-dsi-blue-5.jpg'
        ];
        
        let currentImageIndex = 0;
        
        function changeImage(src) {
            document.getElementById('main-product-image').src = src;
            
            // Update active thumbnail
            const thumbnails = document.querySelectorAll('.thumbnail');
            thumbnails.forEach((thumb, index) => {
                if (images[index] === src) {
                    thumb.classList.add('active');
                    currentImageIndex = index;
                } else {
                    thumb.classList.remove('active');
                }
            });
        }
        
        function nextImage() {
            currentImageIndex = (currentImageIndex + 1) % images.length;
            changeImage(images[currentImageIndex]);
        }
        
        function previousImage() {
            currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
            changeImage(images[currentImageIndex]);
        }
        
        // Navigation and sidebar functionality
        document.addEventListener('DOMContentLoaded', function() {
            const shopBtn = document.getElementById('shop-btn');
            const categoriesSidebar = document.getElementById('categories-sidebar');
            const subcategoriesPanel = document.getElementById('subcategories-panel');
            const categoryItems = document.querySelectorAll('.category-item');
            
            // Toggle categories sidebar when Shop button is clicked
            shopBtn.addEventListener('click', function() {
                categoriesSidebar.classList.toggle('active');
                subcategoriesPanel.classList.remove('active');
            });
            
            // Show subcategories panel when category is hovered
            categoryItems.forEach(item => {
                item.addEventListener('mouseenter', function() {
                    // In a real app, you would load the appropriate subcategories here
                    subcategoriesPanel.classList.add('active');
                });
            });
            
            // Hide panels when clicking outside
            document.addEventListener('click', function(event) {
                if (!event.target.closest('.sidebar') && 
                    !event.target.closest('.subcategories-panel') && 
                    !event.target.closest('#shop-btn')) {
                    categoriesSidebar.classList.remove('active');
                    subcategoriesPanel.classList.remove('active');
                }
            });
        });
    </script>
    <style>
       
/* Main Navigation */
.nav-main {
    display: flex;
    align-items: center;
    flex-grow: 1;
    margin: 0 20px;
}

.nav-button {
    display: flex;
    align-items: center;
    background: none;
    border: none;
    font-size: 16px;
    cursor: pointer;
    padding: 10px 15px;
    font-weight: 500;
}

.nav-button i {
    margin-right: 8px;
}

.search-container {
    display: flex;
    flex-grow: 1;
    max-width: 600px;
    margin: 0 15px;
    border: 1px solid #ccc;
    border-radius: 4px;
    overflow: hidden;
}

.search-input {
    flex-grow: 1;
    padding: 10px 15px;
    border: none;
    outline: none;
    font-size: 16px;
}

.search-btn {
    background-color: #f4f4f4;
    border: none;
    padding: 10px 15px;
    cursor: pointer;
}

/* User Navigation */
.nav-user {
    display: flex;
    align-items: center;
}

.nav-link {
    display: flex;
    align-items: center;
    text-decoration: none;
    color: #333;
    margin-left: 15px;
    font-size: 16px;
}

.nav-link i {
    margin-right: 5px;
}

.dropdown {
    position: relative;
}

.dropdown-toggle {
    background: none;
    border: none;
    cursor: pointer;
    font-size: 16px;
    padding: 10px 0;
}

.icon-down-arrow {
    font-size: 10px;
    margin-left: 5px;
}

/* Main Container with Sidebar */
.main-container {
    display: flex;
    position: relative;
    min-height: calc(100vh - 140px); /* Account for header and footer */
}

/* Sidebar */
.sidebar {
    width: 250px;
    background-color: #f9f9f9;
    border-right: 1px solid #e5e5e5;
    position: absolute;
    top: 0;
    left: -250px;
    height: 100%;
    transition: left 0.3s ease;
    z-index: 900;
}

.sidebar.active {
    left: 0;
}

.category-menu {
    list-style: none;
    padding: 0;
    margin: 0;
}

.category-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0;
    border-bottom: 1px solid #e5e5e5;
}

.category-link {
    flex-grow: 1;
    padding: 15px;
    color: #333;
    text-decoration: none;
    display: block;
}

.category-item:hover {
    background-color: #f1f1f1;
}

.category-item i {
    padding: 15px;
    color: #999;
}

/* Subcategories Panel */
.subcategories-panel {
    display: flex;
    position: absolute;
    top: 0;
    left: 250px;
    width: 500px;
    background-color: #fff;
    border: 1px solid #e5e5e5;
    box-shadow: 2px 0 5px rgba(0,0,0,0.1);
    height: 100%;
    z-index: 800;
    transform: translateX(-100%);
    transition: transform 0.3s ease;
}

.subcategories-panel.active {
    transform: translateX(0);
}

.subcategory-list {
    flex: 1;
    padding: 15px;
    border-right: 1px solid #e5e5e5;
}

.subcategory-list a {
    display: block;
    padding: 10px 0;
    color: #333;
    text-decoration: none;
    border-bottom: 1px solid #f1f1f1;
}

.subcategory-list a:hover {
    color: #FF3B30;
}

.subcategory-featured {
    flex: 1;
    padding: 15px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
}

.featured-image img {
    max-width: 100%;
    height: auto;
    border-radius: 4px;
}

.subcategory-featured h2 {
    margin-top: 15px;
    margin-bottom: 10px;
}

.subcategory-featured p {
    margin-bottom: 20px;
    color: #666;
}

.shop-now-btn {
    background-color: #FF3B30;
    color: white;
    padding: 10px 20px;
    text-decoration: none;
    font-weight: bold;
    border-radius: 5px;
}

.shop-now-btn:hover {
    background-color: #E6352C;
}



.sidebar.active ~ .content-container {
    margin-left: 250px;
}

/* Responsive Adjustments */
@media (max-width: 992px) {
    .subcategories-panel {
        width: calc(100% - 250px);
    }
}

@media (max-width: 768px) {
    .navbar-container {
        flex-wrap: wrap;
    }
    
    .nav-main {
        order: 3;
        width: 100%;
        margin: 10px 0 0;
    }
    
    .search-container {
        max-width: 100%;
        margin: 10px 0;
    }
    
    .sidebar.active ~ .content-container {
        margin-left: 0;
    }
    
    .content-container {
        padding: 10px;
    }
}
    </style>
</body>
</html>